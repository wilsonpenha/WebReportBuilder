<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE jasperReport PUBLIC "-//JasperReports//DTD Report Design//EN" "http://jasperreports.sourceforge.net/dtds/jasperreport.dtd">






<jasperReport name="BasicReport" orientation="Portrait"
	topMargin="30" bottomMargin="30" whenNoDataType="AllSectionsNoDetail"
	pageWidth="1050" pageHeight="842" columnWidth="1030" leftMargin="10"
	rightMargin="10">
	<reportFont name="SansSerif_Normal" isDefault="true"
		fontName="SansSerif" size="12" isBold="false" isItalic="false"
		isUnderline="false" isStrikeThrough="false" pdfFontName="Helvetica"
		pdfEncoding="Cp1252" isPdfEmbedded="false" />
	<reportFont name="SansSerif_Bold" isDefault="false"
		fontName="SansSerif" size="12" isBold="true" isItalic="false"
		isUnderline="false" isStrikeThrough="false"
		pdfFontName="Helvetica-Bold" pdfEncoding="Cp1252"
		isPdfEmbedded="false" />
	<reportFont name="SansSerif_Italic" isDefault="false"
		fontName="SansSerif" size="12" isBold="false" isItalic="true"
		isUnderline="false" isStrikeThrough="false"
		pdfFontName="Helvetica-Oblique" pdfEncoding="Cp1252"
		isPdfEmbedded="false" />
	<parameter name="BaseDir" class="java.io.File"></parameter>
	<parameter name="ImageFile" class="java.lang.String"></parameter>


	<parameter name="archive_id" class="java.lang.String">
		<parameterDescription><![CDATA[Select the Archive ID:]]></parameterDescription>
	</parameter>


	<queryString>
		<![CDATA[select 2 as seq, company, function, archive, classification_tag, user_name, platform, max(msg_matched) as msg_matched, max(msg_flagged) as msg_flagged, max(msg_reviewd) as msg_reviewed, max(msg_added_container) as msg_container from
(select c.company_name as company, f.name as function, a.archive_name as archive, ct.name as classification_tag, cu.user_name, cp.name as platform, pm.event_type, pm.flag_type, 
    CASE WHEN pm.flag_type='PolicyMatched' THEN count(*) ELSE 0 END AS msg_matched,
    CASE WHEN pm.flag_type='Flagged' THEN count(*)  ELSE 0 END AS msg_flagged,
    CASE WHEN pm.flag_type='Reviewed' THEN count(*)  ELSE 0 END AS msg_reviewd, 
    CASE WHEN pm.flag_type='PolicyMatchAddedToContainer' THEN count(*)  ELSE 0 END AS msg_added_container
from policy_match pm 
join applied_classification_tags act on act.archive_id=pm.archive_id and act.destination_message_id=pm.destination_message_id and act.classification_tag_id=pm.classification_tag_id
join classification_tag ct on ct.classification_tag_id=pm.classification_tag_id
join company_user cu on cu.user_id=act.user_id
join function f on f.function_id=pm.function_id
join message_delivered md on md.archive_id=pm.archive_id and md.destination_message_id=pm.destination_message_id
join comunication_platform cp on cp.platform_id=md.platform_id
join archive a on a.archive_id=pm.archive_id
join company c on c.company_id=a.company_id
 WHERE 1=1 
group by c.company_name, f.name, a.archive_name, ct.name, cu.user_name, cp.name, pm.event_type, pm.flag_type) as tbl
group by company, function, archive, classification_tag, user_name, platform
union
select 1 as seq, company, function, archive, 'Total of messages' as classification_tag, platform as user_name, '' as platform, max(msg_matched) as msg_matched, max(msg_flagged) as msg_flagged, max(msg_reviewd) as msg_reviewed, max(msg_added_container) as msg_container from
(select c.company_name as company, f.name as function, a.archive_name as archive, cp.name as platform, pm.event_type, pm.flag_type, 
    CASE WHEN pm.flag_type='PolicyMatched' THEN count(*) ELSE 0 END AS msg_matched,
    CASE WHEN pm.flag_type='Flagged' THEN count(*)  ELSE 0 END AS msg_flagged,
    CASE WHEN pm.flag_type='Reviewed' THEN count(*)  ELSE 0 END AS msg_reviewd, 
    CASE WHEN pm.flag_type='PolicyMatchAddedToContainer' THEN count(*)  ELSE 0 END AS msg_added_container
from policy_match pm 
join applied_classification_tags act on act.archive_id=pm.archive_id and act.destination_message_id=pm.destination_message_id and act.classification_tag_id=pm.classification_tag_id
join classification_tag ct on ct.classification_tag_id=pm.classification_tag_id
join company_user cu on cu.user_id=act.user_id
join function f on f.function_id=pm.function_id
join message_delivered md on md.archive_id=pm.archive_id and md.destination_message_id=pm.destination_message_id
join comunication_platform cp on cp.platform_id=md.platform_id
join archive a on a.archive_id=pm.archive_id
join company c on c.company_id=a.company_id
 WHERE 1=1 
group by c.company_name, f.name, a.archive_name, cp.name, pm.event_type, pm.flag_type) as tbl
group by company, function, archive, platform]]>
	</queryString>


	<field name="seq" class="java.lang.Integer"></field>
	<field name="company" class="java.lang.String"></field>
	<field name="function" class="java.lang.String"></field>
	<field name="archive" class="java.lang.String"></field>
	<field name="classification_tag" class="java.lang.String"></field>
	<field name="user_name" class="java.lang.String"></field>
	<field name="platform" class="java.lang.String"></field>
	<field name="msg_matched" class="java.lang.Long"></field>
	<field name="msg_flagged" class="java.lang.Long"></field>
	<field name="msg_reviewed" class="java.lang.Long"></field>
	<field name="msg_container" class="java.lang.Long"></field>


	<variable name="count_any_match" class="java.lang.Integer"
		resetType="Group" incrementType="None" resetGroup="ClassificationTag"
		calculation="Sum">
		<variableExpression><![CDATA[ $F{msg_matched} ]]></variableExpression>
	</variable>
	<variable name="count_msg_flagged" class="java.lang.Integer"
		resetType="Group" incrementType="None" resetGroup="ClassificationTag"
		calculation="Sum">
		<variableExpression><![CDATA[ $F{msg_flagged} ]]></variableExpression>
	</variable>
	<variable name="count_state_changed" class="java.lang.Integer"
		resetType="Group" incrementType="None" resetGroup="ClassificationTag"
		calculation="Sum">
		<variableExpression><![CDATA[ $F{msg_reviewed} ]]></variableExpression>
	</variable>
	<variable name="user_any_match" class="java.lang.Integer"
		resetType="Group" incrementType="None" resetGroup="UserName"
		calculation="Sum">
		<variableExpression><![CDATA[ $F{msg_matched} ]]></variableExpression>
	</variable>
	<variable name="user_msg_flagged" class="java.lang.Integer"
		resetType="Group" incrementType="None" resetGroup="UserName"
		calculation="Sum">
		<variableExpression><![CDATA[ $F{msg_flagged} ]]></variableExpression>
	</variable>
	<variable name="user_state_changed" class="java.lang.Integer"
		resetType="Group" incrementType="None" resetGroup="UserName"
		calculation="Sum">
		<variableExpression><![CDATA[ $F{msg_reviewed} ]]></variableExpression>
	</variable>


	<group name="ClassificationTag" isStartNewColumn="false"
		isStartNewPage="false" isResetPageNumber="false"
		isReprintHeaderOnEachPage="true" minHeightToStartNewPage="0">
		<groupExpression><![CDATA[$F{classification_tag} ]]></groupExpression>
		<groupHeader>
			<band height="17" isSplitAllowed="true">
				<staticText>
					<reportElement x="0" y="0" width="100" height="16"
						mode="Opaque" forecolor="#000000" backcolor="#9F9F9F" />
					<textElement textAlignment="Left">
						<font fontName="SansSerif" pdfFontName="Helvetica" size="10"
							isBold="true" isItalic="false" isUnderline="false"
							isPdfEmbedded="false" pdfEncoding="Cp1252"
							isStrikeThrough="false" />
					</textElement>
					<text><![CDATA[Department: ]]></text>
				</staticText>
				<textField pattern="" evaluationTime="Group"
					evaluationGroup="ClassificationTag">
					<reportElement x="100" y="0" width="150" height="16"
						mode="Opaque" forecolor="#000000" backcolor="#9F9F9F" />
					<textElement textAlignment="Left">
						<font fontName="SansSerif" pdfFontName="Helvetica" size="10"
							isBold="false" isItalic="false" isUnderline="false"
							isPdfEmbedded="false" pdfEncoding="Cp1252"
							isStrikeThrough="false" />
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[$F{classification_tag} ]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="250" y="0" width="780" height="16"
						mode="Opaque" forecolor="#000000" backcolor="#9F9F9F" />
					<textElement textAlignment="Left"
						verticalAlignment="Top" rotation="None" lineSpacing="Single">
						<font fontName="SansSerif" pdfFontName="Helvetica" size="10"
							isBold="true" isItalic="false" isUnderline="false"
							isPdfEmbedded="false" pdfEncoding="Cp1252"
							isStrikeThrough="false" />
					</textElement>
					<text></text>
				</staticText>
				<line>
					<reportElement x="0" y="16" width="1030" height="1"
						forecolor="#ffffff" backcolor="#ffffff" />
					<graphicElement />
				</line>
			</band>
		</groupHeader>
		<groupFooter>
			<band height="17" isSplitAllowed="true">
				<staticText>
					<reportElement x="0" y="0" width="100" height="16"
						mode="Opaque" forecolor="#000000" backcolor="#9F9F9F" />
					<textElement textAlignment="Left">
						<font fontName="SansSerif" pdfFontName="Helvetica" size="10"
							isBold="true" isItalic="false" isUnderline="false"
							isPdfEmbedded="false" pdfEncoding="Cp1252"
							isStrikeThrough="false" />
					</textElement>
					<text><![CDATA[     TOTAL]]></text>
				</staticText>
				<textField pattern="" evaluationTime="Group"
					evaluationGroup="ClassificationTag">
					<reportElement x="100" y="0" width="50" height="16"
						mode="Opaque" forecolor="#000000" backcolor="#9F9F9F" />
					<textElement textAlignment="Left">
						<font fontName="SansSerif" pdfFontName="Helvetica" size="10"
							isBold="false" isItalic="false" isUnderline="false"
							isPdfEmbedded="false" pdfEncoding="Cp1252"
							isStrikeThrough="false" />
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[""]]></textFieldExpression>
				</textField>
				<textField pattern="" evaluationTime="Group"
					evaluationGroup="ClassificationTag">
					<reportElement x="150" y="0" width="150" height="16"
						mode="Opaque" forecolor="#000000" backcolor="#9F9F9F" />
					<textElement textAlignment="Right">
						<font fontName="SansSerif" pdfFontName="Helvetica" size="10"
							isBold="false" isItalic="false" isUnderline="false"
							isPdfEmbedded="false" pdfEncoding="Cp1252"
							isStrikeThrough="false" />
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[ $V{count_any_match}.toString()]]></textFieldExpression>
				</textField>
				<textField pattern="" evaluationTime="Group"
					evaluationGroup="ClassificationTag">
					<reportElement x="300" y="0" width="150" height="16"
						mode="Opaque" forecolor="#000000" backcolor="#9F9F9F" />
					<textElement textAlignment="Right">
						<font fontName="SansSerif" pdfFontName="Helvetica" size="10"
							isBold="false" isItalic="false" isUnderline="false"
							isPdfEmbedded="false" pdfEncoding="Cp1252"
							isStrikeThrough="false" />
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[$V{count_msg_flagged}.toString()]]></textFieldExpression>
				</textField>
				<textField pattern="" evaluationTime="Group"
					evaluationGroup="ClassificationTag">
					<reportElement x="450" y="0" width="180" height="16"
						mode="Opaque" forecolor="#000000" backcolor="#9F9F9F" />
					<textElement textAlignment="Right">
						<font fontName="SansSerif" pdfFontName="Helvetica" size="10"
							isBold="false" isItalic="false" isUnderline="false"
							isPdfEmbedded="false" pdfEncoding="Cp1252"
							isStrikeThrough="false" />
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[$V{count_any_match}>0 ? Formatter.formatNumber(($V{count_msg_flagged}/(double)$V{count_any_match})*100,2) : "0.00"
]]></textFieldExpression>
				</textField>
				<textField pattern="" evaluationTime="Group"
					evaluationGroup="ClassificationTag">
					<reportElement x="630" y="0" width="150" height="16"
						mode="Opaque" forecolor="#000000" backcolor="#9F9F9F" />
					<textElement textAlignment="Right">
						<font fontName="SansSerif" pdfFontName="Helvetica" size="10"
							isBold="false" isItalic="false" isUnderline="false"
							isPdfEmbedded="false" pdfEncoding="Cp1252"
							isStrikeThrough="false" />
					</textElement>
					<textFieldExpression class="java.lang.Double"><![CDATA[$V{count_msg_flagged}-$V{count_state_changed} ]]></textFieldExpression>
				</textField>
				<textField pattern="" evaluationTime="Group"
					evaluationGroup="ClassificationTag">
					<reportElement x="780" y="0" width="150" height="16"
						mode="Opaque" forecolor="#000000" backcolor="#9F9F9F" />
					<textElement textAlignment="Right">
						<font fontName="SansSerif" pdfFontName="Helvetica" size="10"
							isBold="false" isItalic="false" isUnderline="false"
							isPdfEmbedded="false" pdfEncoding="Cp1252"
							isStrikeThrough="false" />
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[ $V{count_state_changed}.toString()]]></textFieldExpression>
				</textField>
				<textField pattern="" evaluationTime="Group"
					evaluationGroup="ClassificationTag">
					<reportElement x="930" y="0" width="100" height="16"
						mode="Opaque" forecolor="#000000" backcolor="#9F9F9F" />
					<textElement textAlignment="Right">
						<font fontName="SansSerif" pdfFontName="Helvetica" size="10"
							isBold="false" isItalic="false" isUnderline="false"
							isPdfEmbedded="false" pdfEncoding="Cp1252"
							isStrikeThrough="false" />
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[$V{count_any_match}>0 ? Formatter.formatNumber(($V{count_state_changed}/(double)$V{count_any_match})*100,2) : "0.00"]]></textFieldExpression>
				</textField>
				<line>
					<reportElement x="0" y="16" width="1030" height="1"
						forecolor="#ffffff" backcolor="#ffffff" />
					<graphicElement />
				</line>
			</band>
		</groupFooter>
	</group>
	<group name="UserName" isStartNewColumn="false"
		isStartNewPage="false" isResetPageNumber="false"
		isReprintHeaderOnEachPage="true" minHeightToStartNewPage="0">
		<groupExpression><![CDATA[ $F{user_name} ]]></groupExpression>
		<groupHeader>
			<band height="17" isSplitAllowed="true">
				<textField pattern="" evaluationTime="Group"
					evaluationGroup="UserName">
					<reportElement x="0" y="0" width="150" height="16"
						mode="Opaque" forecolor="#000000" backcolor="#9F9F9F" />
					<textElement textAlignment="Left">
						<font fontName="SansSerif" pdfFontName="Helvetica" size="10"
							isBold="false" isItalic="false" isUnderline="false"
							isPdfEmbedded="false" pdfEncoding="Cp1252"
							isStrikeThrough="false" />
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA["     "+ $F{user_name} ]]></textFieldExpression>
				</textField>
				<textField pattern="" evaluationTime="Group"
					evaluationGroup="UserName">
					<reportElement x="150" y="0" width="150" height="16"
						mode="Opaque" forecolor="#000000" backcolor="#9F9F9F" />
					<textElement textAlignment="Right">
						<font fontName="SansSerif" pdfFontName="Helvetica" size="10"
							isBold="false" isItalic="false" isUnderline="false"
							isPdfEmbedded="false" pdfEncoding="Cp1252"
							isStrikeThrough="false" />
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[ $V{user_any_match}.toString()]]></textFieldExpression>
				</textField>
				<textField pattern="" evaluationTime="Group"
					evaluationGroup="UserName">
					<reportElement x="300" y="0" width="150" height="16"
						mode="Opaque" forecolor="#000000" backcolor="#9F9F9F" />
					<textElement textAlignment="Right">
						<font fontName="SansSerif" pdfFontName="Helvetica" size="10"
							isBold="false" isItalic="false" isUnderline="false"
							isPdfEmbedded="false" pdfEncoding="Cp1252"
							isStrikeThrough="false" />
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[ $V{user_msg_flagged} ]]></textFieldExpression>
				</textField>
				<textField pattern="" evaluationTime="Group"
					evaluationGroup="UserName">
					<reportElement x="450" y="0" width="180" height="16"
						mode="Opaque" forecolor="#000000" backcolor="#9F9F9F" />
					<textElement textAlignment="Right">
						<font fontName="SansSerif" pdfFontName="Helvetica" size="10"
							isBold="false" isItalic="false" isUnderline="false"
							isPdfEmbedded="false" pdfEncoding="Cp1252"
							isStrikeThrough="false" />
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[$V{user_any_match}>0 ? Formatter.formatNumber(($V{user_msg_flagged}/(double)$V{user_any_match})*100,2) : "0.00"
]]></textFieldExpression>
				</textField>
				<textField pattern="" evaluationTime="Group"
					evaluationGroup="UserName">
					<reportElement x="630" y="0" width="150" height="16"
						mode="Opaque" forecolor="#000000" backcolor="#9F9F9F" />
					<textElement textAlignment="Right">
						<font fontName="SansSerif" pdfFontName="Helvetica" size="10"
							isBold="false" isItalic="false" isUnderline="false"
							isPdfEmbedded="false" pdfEncoding="Cp1252"
							isStrikeThrough="false" />
					</textElement>
					<textFieldExpression class="java.lang.Integer"><![CDATA[$V{user_msg_flagged}-$V{user_state_changed}]]></textFieldExpression>
				</textField>
				<textField pattern="" evaluationTime="Group"
					evaluationGroup="UserName">
					<reportElement x="780" y="0" width="150" height="16"
						mode="Opaque" forecolor="#000000" backcolor="#9F9F9F" />
					<textElement textAlignment="Right">
						<font fontName="SansSerif" pdfFontName="Helvetica" size="10"
							isBold="false" isItalic="false" isUnderline="false"
							isPdfEmbedded="false" pdfEncoding="Cp1252"
							isStrikeThrough="false" />
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[ $V{user_state_changed}.toString()]]></textFieldExpression>
				</textField>
				<textField pattern="" evaluationTime="Group"
					evaluationGroup="UserName">
					<reportElement x="930" y="0" width="100" height="16"
						mode="Opaque" forecolor="#000000" backcolor="#9F9F9F" />
					<textElement textAlignment="Right">
						<font fontName="SansSerif" pdfFontName="Helvetica" size="10"
							isBold="false" isItalic="false" isUnderline="false"
							isPdfEmbedded="false" pdfEncoding="Cp1252"
							isStrikeThrough="false" />
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[$V{user_any_match}>0 ? Formatter.formatNumber(($V{user_state_changed}/(double)$V{user_any_match})*100,2) : "0.00"]]></textFieldExpression>
				</textField>
				<line>
					<reportElement x="0" y="16" width="1030" height="1"
						forecolor="#ffffff" backcolor="#ffffff" />
					<graphicElement />
				</line>
			</band>
		</groupHeader>
		<groupFooter>
			<band height="0" isSplitAllowed="true">
			</band>
		</groupFooter>
	</group>


	<title>
		<band height="187" isSplitAllowed="true">
			<line direction="TopDown">
				<reportElement x="0" y="0" width="1030" height="1"
					key="line" />
				<graphicElement stretchType="NoStretch" />
			</line>
			<image>
				<reportElement x="0" y="1" width="350" height="56" />
				<imageExpression><![CDATA["/data/workspace/WebReportBuilder/WebContent/jsp/common/images/gr-logo.png"]]>
				</imageExpression>
			</image>
			<line direction="TopDown">
				<reportElement x="0" y="57" width="1030" height="1"
					key="line" />
				<graphicElement stretchType="NoStretch" />
			</line>
			<staticText>
				<reportElement x="0" y="58" width="1030" height="25"
					mode="Opaque" forecolor="#000000" backcolor="Proof"
					key="staticText" />
				<box topBorder="None" topBorderColor="#000000" leftBorder="None"
					leftBorderColor="#000000" rightBorder="None"
					rightBorderColor="#000000" bottomBorder="None"
					bottomBorderColor="#000000" />
				<textElement textAlignment="Center">
					<font reportFont="SansSerif_Normal" size="20" />
				</textElement>
				<text><![CDATA[Proof of Supervision Report per Policy - MPP-dev]]></text>
			</staticText>
			<line direction="TopDown">
				<reportElement x="0" y="84" width="1030" height="1"
					key="line" />
				<graphicElement stretchType="NoStretch" />
			</line>

			<staticText>
				<reportElement x="0" y="84" width="100" height="16"
					mode="Opaque" forecolor="#000000" backcolor="#F7F4F2" />
				<textElement textAlignment="Left"
					verticalAlignment="Top" rotation="None" lineSpacing="Single">
					<font fontName="SansSerif" pdfFontName="Helvetica" size="10"
						isBold="true" isItalic="false" isUnderline="false"
						isPdfEmbedded="false" pdfEncoding="Cp1252" isStrikeThrough="false" />
				</textElement>
				<text><![CDATA[Customer Name:]]></text>
			</staticText>
			<textField pattern="" evaluationTime="Report">
				<reportElement x="100" y="84" width="100" height="16"
					mode="Opaque" forecolor="#000000" backcolor="#F7F4F2" />
				<textElement textAlignment="Left">
					<font fontName="SansSerif" pdfFontName="Helvetica" size="10"
						isBold="false" isItalic="false" isUnderline="false"
						isPdfEmbedded="false" pdfEncoding="Cp1252" isStrikeThrough="false" />
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{company} ]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="200" y="84" width="830" height="16"
					mode="Opaque" forecolor="#000000" backcolor="#F7F4F2" />
				<textElement textAlignment="Left"
					verticalAlignment="Top" rotation="None" lineSpacing="Single">
					<font fontName="SansSerif" pdfFontName="Helvetica" size="10"
						isBold="true" isItalic="false" isUnderline="false"
						isPdfEmbedded="false" pdfEncoding="Cp1252" isStrikeThrough="false" />
				</textElement>
				<text></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="100" width="100" height="16"
					mode="Opaque" forecolor="#000000" backcolor="#F7F4F2" />
				<textElement textAlignment="Left"
					verticalAlignment="Top" rotation="None" lineSpacing="Single">
					<font fontName="SansSerif" pdfFontName="Helvetica" size="10"
						isBold="true" isItalic="false" isUnderline="false"
						isPdfEmbedded="false" pdfEncoding="Cp1252" isStrikeThrough="false" />
				</textElement>
				<text><![CDATA[Function:]]></text>
			</staticText>
			<textField pattern="" evaluationTime="Report">
				<reportElement x="100" y="100" width="100" height="16"
					mode="Opaque" forecolor="#000000" backcolor="#F7F4F2" />
				<textElement textAlignment="Left">
					<font fontName="SansSerif" pdfFontName="Helvetica" size="10"
						isBold="false" isItalic="false" isUnderline="false"
						isPdfEmbedded="false" pdfEncoding="Cp1252" isStrikeThrough="false" />
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[ $F{function} ]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="200" y="100" width="830" height="16"
					mode="Opaque" forecolor="#000000" backcolor="#F7F4F2" />
				<textElement textAlignment="Left"
					verticalAlignment="Top" rotation="None" lineSpacing="Single">
					<font fontName="SansSerif" pdfFontName="Helvetica" size="10"
						isBold="true" isItalic="false" isUnderline="false"
						isPdfEmbedded="false" pdfEncoding="Cp1252" isStrikeThrough="false" />
				</textElement>
				<text></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="116" width="100" height="16"
					mode="Opaque" forecolor="#000000" backcolor="#F7F4F2" />
				<textElement textAlignment="Left"
					verticalAlignment="Top" rotation="None" lineSpacing="Single">
					<font fontName="SansSerif" pdfFontName="Helvetica" size="10"
						isBold="true" isItalic="false" isUnderline="false"
						isPdfEmbedded="false" pdfEncoding="Cp1252" isStrikeThrough="false" />
				</textElement>
				<text><![CDATA[Archive]]></text>
			</staticText>
			<textField pattern="" evaluationTime="Report">
				<reportElement x="100" y="116" width="100" height="16"
					mode="Opaque" forecolor="#000000" backcolor="#F7F4F2" />
				<textElement textAlignment="Left">
					<font fontName="SansSerif" pdfFontName="Helvetica" size="10"
						isBold="false" isItalic="false" isUnderline="false"
						isPdfEmbedded="false" pdfEncoding="Cp1252" isStrikeThrough="false" />
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[ $F{archive} ]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="200" y="116" width="830" height="16"
					mode="Opaque" forecolor="#000000" backcolor="#F7F4F2" />
				<textElement textAlignment="Left"
					verticalAlignment="Top" rotation="None" lineSpacing="Single">
					<font fontName="SansSerif" pdfFontName="Helvetica" size="10"
						isBold="true" isItalic="false" isUnderline="false"
						isPdfEmbedded="false" pdfEncoding="Cp1252" isStrikeThrough="false" />
				</textElement>
				<text></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="132" width="150" height="16"
					mode="Opaque" forecolor="#000000" backcolor="#F7F4F2" />
				<textElement textAlignment="Left"
					verticalAlignment="Top" rotation="None" lineSpacing="Single">
					<font fontName="SansSerif" pdfFontName="Helvetica" size="10"
						isBold="true" isItalic="false" isUnderline="false"
						isPdfEmbedded="false" pdfEncoding="Cp1252" isStrikeThrough="false" />
				</textElement>
				<text><![CDATA[Processed by Global Relay on (UTC)]]></text>
			</staticText>
			<textField pattern="" evaluationTime="Report">
				<reportElement x="150" y="132" width="150" height="16"
					mode="Opaque" forecolor="#000000" backcolor="#F7F4F2" />
				<textElement textAlignment="Left">
					<font fontName="SansSerif" pdfFontName="Helvetica" size="10"
						isBold="false" isItalic="false" isUnderline="false"
						isPdfEmbedded="false" pdfEncoding="Cp1252" isStrikeThrough="false" />
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[Formatter.getCurrentDate()]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="300" y="132" width="730" height="16"
					mode="Opaque" forecolor="#000000" backcolor="#F7F4F2" />
				<textElement textAlignment="Left"
					verticalAlignment="Top" rotation="None" lineSpacing="Single">
					<font fontName="SansSerif" pdfFontName="Helvetica" size="10"
						isBold="true" isItalic="false" isUnderline="false"
						isPdfEmbedded="false" pdfEncoding="Cp1252" isStrikeThrough="false" />
				</textElement>
				<text></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="148" width="150" height="16"
					mode="Opaque" forecolor="#000000" backcolor="#F7F4F2" />
				<textElement textAlignment="Left"
					verticalAlignment="Top" rotation="None" lineSpacing="Single">
					<font fontName="SansSerif" pdfFontName="Helvetica" size="10"
						isBold="true" isItalic="false" isUnderline="false"
						isPdfEmbedded="false" pdfEncoding="Cp1252" isStrikeThrough="false" />
				</textElement>
				<text><![CDATA[Reporting period start date]]></text>
			</staticText>
			<textField pattern="" evaluationTime="Report">
				<reportElement x="150" y="148" width="150" height="16"
					mode="Opaque" forecolor="#000000" backcolor="#F7F4F2" />
				<textElement textAlignment="Left">
					<font fontName="SansSerif" pdfFontName="Helvetica" size="10"
						isBold="false" isItalic="false" isUnderline="false"
						isPdfEmbedded="false" pdfEncoding="Cp1252" isStrikeThrough="false" />
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[""]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="300" y="148" width="730" height="16"
					mode="Opaque" forecolor="#000000" backcolor="#F7F4F2" />
				<textElement textAlignment="Left"
					verticalAlignment="Top" rotation="None" lineSpacing="Single">
					<font fontName="SansSerif" pdfFontName="Helvetica" size="10"
						isBold="true" isItalic="false" isUnderline="false"
						isPdfEmbedded="false" pdfEncoding="Cp1252" isStrikeThrough="false" />
				</textElement>
				<text></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="164" width="150" height="16"
					mode="Opaque" forecolor="#000000" backcolor="#F7F4F2" />
				<textElement textAlignment="Left"
					verticalAlignment="Top" rotation="None" lineSpacing="Single">
					<font fontName="SansSerif" pdfFontName="Helvetica" size="10"
						isBold="true" isItalic="false" isUnderline="false"
						isPdfEmbedded="false" pdfEncoding="Cp1252" isStrikeThrough="false" />
				</textElement>
				<text><![CDATA[Reporting period end date]]></text>
			</staticText>
			<textField pattern="" evaluationTime="Report">
				<reportElement x="150" y="164" width="150" height="16"
					mode="Opaque" forecolor="#000000" backcolor="#F7F4F2" />
				<textElement textAlignment="Left">
					<font fontName="SansSerif" pdfFontName="Helvetica" size="10"
						isBold="false" isItalic="false" isUnderline="false"
						isPdfEmbedded="false" pdfEncoding="Cp1252" isStrikeThrough="false" />
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[""]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="300" y="164" width="730" height="16"
					mode="Opaque" forecolor="#000000" backcolor="#F7F4F2" />
				<textElement textAlignment="Left"
					verticalAlignment="Top" rotation="None" lineSpacing="Single">
					<font fontName="SansSerif" pdfFontName="Helvetica" size="10"
						isBold="true" isItalic="false" isUnderline="false"
						isPdfEmbedded="false" pdfEncoding="Cp1252" isStrikeThrough="false" />
				</textElement>
				<text></text>
			</staticText>
			<line>
				<reportElement x="0" y="180" width="1030" height="1" />
				<graphicElement />
			</line>
		</band>
	</title>


	<pageHeader>
		<band height="0" isSplitAllowed="true">
		</band>
	</pageHeader>


	<columnHeader>
		<band height="20" isSplitAllowed="true">
			<staticText>
				<reportElement mode="Opaque" x="0" y="5" width="150"
					height="15" forecolor="#000000" backcolor="#878787"
					key="staticText" />
				<box topBorder="None" topBorderColor="#000000" leftBorder="None"
					leftBorderColor="#000000" rightBorder="None"
					rightBorderColor="#000000" bottomBorder="None"
					bottomBorderColor="#000000" />
				<textElement textAlignment="Left">
					<font reportFont="SansSerif_Bold" pdfFontName="Helvetica"
						isBold="true" />
				</textElement>
				<text><![CDATA[Platform]]></text>
			</staticText>
			<staticText>
				<reportElement mode="Opaque" x="150" y="5" width="150"
					height="15" forecolor="#000000" backcolor="#878787"
					key="staticText" />
				<box topBorder="None" topBorderColor="#000000" leftBorder="None"
					leftBorderColor="#000000" rightBorder="None"
					rightBorderColor="#000000" bottomBorder="None"
					bottomBorderColor="#000000" />
				<textElement textAlignment="Right">
					<font reportFont="SansSerif_Bold" pdfFontName="Helvetica"
						isBold="true" />
				</textElement>
				<text><![CDATA[Message match any policy]]></text>
			</staticText>
			<staticText>
				<reportElement mode="Opaque" x="300" y="5" width="150"
					height="15" forecolor="#000000" backcolor="#878787"
					key="staticText" />
				<box topBorder="None" topBorderColor="#000000" leftBorder="None"
					leftBorderColor="#000000" rightBorder="None"
					rightBorderColor="#000000" bottomBorder="None"
					bottomBorderColor="#000000" />
				<textElement textAlignment="Right">
					<font reportFont="SansSerif_Bold" pdfFontName="Helvetica"
						isBold="true" />
				</textElement>
				<text><![CDATA[Message flagged for review]]></text>
			</staticText>
			<staticText>
				<reportElement mode="Opaque" x="450" y="5" width="180"
					height="15" forecolor="#000000" backcolor="#878787"
					key="staticText" />
				<box topBorder="None" topBorderColor="#000000" leftBorder="None"
					leftBorderColor="#000000" rightBorder="None"
					rightBorderColor="#000000" bottomBorder="None"
					bottomBorderColor="#000000" />
				<textElement textAlignment="Right">
					<font reportFont="SansSerif_Bold" pdfFontName="Helvetica"
						isBold="true" />
				</textElement>
				<text><![CDATA[Message flagged for review %]]></text>
			</staticText>
			<staticText>
				<reportElement mode="Opaque" x="630" y="5" width="150"
					height="15" forecolor="#000000" backcolor="#878787"
					key="staticText" />
				<box topBorder="None" topBorderColor="#000000" leftBorder="None"
					leftBorderColor="#000000" rightBorder="None"
					rightBorderColor="#000000" bottomBorder="None"
					bottomBorderColor="#000000" />
				<textElement textAlignment="Right">
					<font reportFont="SansSerif_Bold" pdfFontName="Helvetica"
						isBold="true" />
				</textElement>
				<text><![CDATA[Messages in Flagged state]]></text>
			</staticText>
			<staticText>
				<reportElement mode="Opaque" x="780" y="5" width="150"
					height="15" forecolor="#000000" backcolor="#878787"
					key="staticText" />
				<box topBorder="None" topBorderColor="#000000" leftBorder="None"
					leftBorderColor="#000000" rightBorder="None"
					rightBorderColor="#000000" bottomBorder="None"
					bottomBorderColor="#000000" />
				<textElement textAlignment="Right">
					<font reportFont="SansSerif_Bold" pdfFontName="Helvetica"
						isBold="true" />
				</textElement>
				<text><![CDATA[Messages in Reviewed state]]></text>
			</staticText>
			<staticText>
				<reportElement mode="Opaque" x="930" y="5" width="100"
					height="15" forecolor="#000000" backcolor="#878787"
					key="staticText" />
				<box topBorder="None" topBorderColor="#000000" leftBorder="None"
					leftBorderColor="#000000" rightBorder="None"
					rightBorderColor="#000000" bottomBorder="None"
					bottomBorderColor="#000000" />
				<textElement textAlignment="Right">
					<font reportFont="SansSerif_Bold" pdfFontName="Helvetica"
						isBold="true" />
				</textElement>
				<text><![CDATA[% Complete]]></text>
			</staticText>
		</band>
	</columnHeader>
	<detail>
		<band height="16" isSplitAllowed="true">
			<textField pattern="" evaluationTime="Now">
				<reportElement x="0" y="0" width="150" mode="Opaque"
					height="15" forecolor="#000000" backcolor="$detailColorOff">
					<printWhenExpression><![CDATA[new Boolean($V{REPORT_COUNT}.intValue() % 2 == 0)]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Left" />
				<textFieldExpression class="java.lang.String">
					<![CDATA["          "+$F{platform} ]]>
				</textFieldExpression>
			</textField>
			<textField pattern="" evaluationTime="Now">
				<reportElement x="0" y="0" width="150" mode="Opaque"
					height="15" forecolor="#000000" backcolor="#D7D7D7">
					<printWhenExpression><![CDATA[new Boolean($V{REPORT_COUNT}.intValue() % 2 != 0)]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Left" />
				<textFieldExpression class="java.lang.String">
					<![CDATA["          "+$F{platform} ]]>
				</textFieldExpression>
			</textField>
			<line>
				<reportElement x="0" y="15" width="1030" height="1"
					forecolor="#ffffff" backcolor="#ffffff" />
				<graphicElement />
			</line>
			<textField pattern="" evaluationTime="Now">
				<reportElement x="150" y="0" width="150" mode="Opaque"
					height="15" forecolor="#000000" backcolor="$detailColorOff">
					<printWhenExpression><![CDATA[new Boolean($V{REPORT_COUNT}.intValue() % 2 == 0)]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Right" />
				<textFieldExpression class="java.lang.Integer">
					<![CDATA[ $F{msg_matched} ]]>
				</textFieldExpression>
			</textField>
			<textField pattern="" evaluationTime="Now">
				<reportElement x="150" y="0" width="150" mode="Opaque"
					height="15" forecolor="#000000" backcolor="#D7D7D7">
					<printWhenExpression><![CDATA[new Boolean($V{REPORT_COUNT}.intValue() % 2 != 0)]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Right" />
				<textFieldExpression class="java.lang.Integer">
					<![CDATA[ $F{msg_matched} ]]>
				</textFieldExpression>
			</textField>
			<line>
				<reportElement x="0" y="15" width="1030" height="1"
					forecolor="#ffffff" backcolor="#ffffff" />
				<graphicElement />
			</line>
			<textField pattern="" evaluationTime="Now">
				<reportElement x="300" y="0" width="150" mode="Opaque"
					height="15" forecolor="#000000" backcolor="$detailColorOff">
					<printWhenExpression><![CDATA[new Boolean($V{REPORT_COUNT}.intValue() % 2 == 0)]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Right" />
				<textFieldExpression class="java.lang.Integer">
					<![CDATA[ $F{msg_flagged} ]]>
				</textFieldExpression>
			</textField>
			<textField pattern="" evaluationTime="Now">
				<reportElement x="300" y="0" width="150" mode="Opaque"
					height="15" forecolor="#000000" backcolor="#D7D7D7">
					<printWhenExpression><![CDATA[new Boolean($V{REPORT_COUNT}.intValue() % 2 != 0)]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Right" />
				<textFieldExpression class="java.lang.Integer">
					<![CDATA[ $F{msg_flagged} ]]>
				</textFieldExpression>
			</textField>
			<line>
				<reportElement x="0" y="15" width="1030" height="1"
					forecolor="#ffffff" backcolor="#ffffff" />
				<graphicElement />
			</line>
			<textField pattern="" evaluationTime="Now">
				<reportElement x="450" y="0" width="180" mode="Opaque"
					height="15" forecolor="#000000" backcolor="$detailColorOff">
					<printWhenExpression><![CDATA[new Boolean($V{REPORT_COUNT}.intValue() % 2 == 0)]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Right" />
				<textFieldExpression class="java.lang.String">
					<![CDATA[$F{msg_matched}>0 ? Formatter.formatNumber(($F{msg_flagged}/(double)$F{msg_matched})*100,2) : "0.00"]]>
				</textFieldExpression>
			</textField>
			<textField pattern="" evaluationTime="Now">
				<reportElement x="450" y="0" width="180" mode="Opaque"
					height="15" forecolor="#000000" backcolor="#D7D7D7">
					<printWhenExpression><![CDATA[new Boolean($V{REPORT_COUNT}.intValue() % 2 != 0)]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Right" />
				<textFieldExpression class="java.lang.String">
					<![CDATA[$F{msg_matched}>0 ? Formatter.formatNumber(($F{msg_flagged}/(double)$F{msg_matched})*100,2) : "0.00"]]>
				</textFieldExpression>
			</textField>
			<line>
				<reportElement x="0" y="15" width="1030" height="1"
					forecolor="#ffffff" backcolor="#ffffff" />
				<graphicElement />
			</line>
			<textField pattern="" evaluationTime="Now">
				<reportElement x="630" y="0" width="150" mode="Opaque"
					height="15" forecolor="#000000" backcolor="$detailColorOff">
					<printWhenExpression><![CDATA[new Boolean($V{REPORT_COUNT}.intValue() % 2 == 0)]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Right" />
				<textFieldExpression class="java.lang.Integer">
					<![CDATA[ $F{msg_flagged} - $F{msg_reviewed} ]]>
				</textFieldExpression>
			</textField>
			<textField pattern="" evaluationTime="Now">
				<reportElement x="630" y="0" width="150" mode="Opaque"
					height="15" forecolor="#000000" backcolor="#D7D7D7">
					<printWhenExpression><![CDATA[new Boolean($V{REPORT_COUNT}.intValue() % 2 != 0)]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Right" />
				<textFieldExpression class="java.lang.Integer">
					<![CDATA[ $F{msg_flagged} - $F{msg_reviewed} ]]>
				</textFieldExpression>
			</textField>
			<line>
				<reportElement x="0" y="15" width="1030" height="1"
					forecolor="#ffffff" backcolor="#ffffff" />
				<graphicElement />
			</line>
			<textField pattern="" evaluationTime="Now">
				<reportElement x="780" y="0" width="150" mode="Opaque"
					height="15" forecolor="#000000" backcolor="$detailColorOff">
					<printWhenExpression><![CDATA[new Boolean($V{REPORT_COUNT}.intValue() % 2 == 0)]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Right" />
				<textFieldExpression class="java.lang.Integer">
					<![CDATA[ $F{msg_reviewed} ]]>
				</textFieldExpression>
			</textField>
			<textField pattern="" evaluationTime="Now">
				<reportElement x="780" y="0" width="150" mode="Opaque"
					height="15" forecolor="#000000" backcolor="#D7D7D7">
					<printWhenExpression><![CDATA[new Boolean($V{REPORT_COUNT}.intValue() % 2 != 0)]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Right" />
				<textFieldExpression class="java.lang.Integer">
					<![CDATA[ $F{msg_reviewed} ]]>
				</textFieldExpression>
			</textField>
			<line>
				<reportElement x="0" y="15" width="1030" height="1"
					forecolor="#ffffff" backcolor="#ffffff" />
				<graphicElement />
			</line>
			<textField pattern="" evaluationTime="Now">
				<reportElement x="930" y="0" width="100" mode="Opaque"
					height="15" forecolor="#000000" backcolor="$detailColorOff">
					<printWhenExpression><![CDATA[new Boolean($V{REPORT_COUNT}.intValue() % 2 == 0)]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Right" />
				<textFieldExpression class="java.lang.Double">
					<![CDATA[$F{msg_matched}>0 ? Formatter.formatNumber(($F{msg_reviewed}/(double)$F{msg_matched})*100,2) : "0.00"]]>
				</textFieldExpression>
			</textField>
			<textField pattern="" evaluationTime="Now">
				<reportElement x="930" y="0" width="100" mode="Opaque"
					height="15" forecolor="#000000" backcolor="#D7D7D7">
					<printWhenExpression><![CDATA[new Boolean($V{REPORT_COUNT}.intValue() % 2 != 0)]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Right" />
				<textFieldExpression class="java.lang.Double">
					<![CDATA[$F{msg_matched}>0 ? Formatter.formatNumber(($F{msg_reviewed}/(double)$F{msg_matched})*100,2) : "0.00"]]>
				</textFieldExpression>
			</textField>
			<line>
				<reportElement x="0" y="15" width="1030" height="1"
					forecolor="#ffffff" backcolor="#ffffff" />
				<graphicElement />
			</line>
		</band>
	</detail>



	<pageFooter>
		<band height="51" isSplitAllowed="true">
			<textField pattern="dd-MMM-yyyy hh:mm aa">
				<reportElement x="2" y="20" width="150" height="15" />
				<textElement textAlignment="Left" />
				<textFieldExpression class="java.util.Date"><![CDATA[new Date()]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="830" y="20" width="150" height="15" />
				<textElement textAlignment="Right" />
				<textFieldExpression class="java.lang.String"><![CDATA["Page " + String.valueOf($V{PAGE_NUMBER}) + " of "]]></textFieldExpression>
			</textField>
			<textField evaluationTime="Report">
				<reportElement x="990" y="20" width="40" height="15" />
				<textElement textAlignment="Left" />
				<textFieldExpression class="java.lang.String"><![CDATA["" + String.valueOf($V{PAGE_NUMBER})]]></textFieldExpression>
			</textField>
		</band>
	</pageFooter>


	<summary>
		<band height="2" isSplitAllowed="true">
			<line direction="TopDown">
				<reportElement x="0" y="0" width="1030" height="1"
					key="line" />
				<graphicElement stretchType="NoStretch" />
			</line>
			<line>
				<reportElement x="0" y="1" width="1030" height="1" />
				<graphicElement />
			</line>
		</band>
	</summary>
</jasperReport>

